# Архитектура системы

Документ описывает архитектуру системы двухфакторной аутентификации для VPN MikroTik.

## Компоненты системы

### 1. Backend API (FastAPI)
- RESTful API для веб-интерфейса
- Обработка бизнес-логики
- Управление пользователями и сессиями
- Интеграция с MikroTik
- Интеграция с Telegram

### 2. Telegram Bot
- Обработка команд пользователей
- Отправка уведомлений
- Подтверждение подключений
- Mini-App интерфейс (опционально)

### 3. Web Admin Interface
- Управление пользователями
- Одобрение регистраций
- Настройка системы
- Мониторинг сессий
- Просмотр статистики

### 4. MikroTik Service
- SSH подключение
- Управление User Manager
- Управление Firewall правилами
- Мониторинг подключений

### 5. Database
- Хранение пользователей
- Хранение сессий
- Хранение настроек
- Аудит логи

## Взаимодействие компонентов

См. `SYSTEM_WORKFLOW.md`
