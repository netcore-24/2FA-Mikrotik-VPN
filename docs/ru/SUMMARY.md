# –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç (97% - 30+ –∏–∑ 31 –∑–∞–¥–∞—á)

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** ‚úÖ
   - –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã
   - –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ backend, frontend, telegram_bot

2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** ‚úÖ
   - –í—Å–µ 8 –º–æ–¥–µ–ª–µ–π —Å–æ–∑–¥–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
   - –†–∞–±–æ—Ç–∞ —Å SQLite —á–µ—Ä–µ–∑ SQLAlchemy

3. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚úÖ
   - JWT —Ç–æ–∫–µ–Ω—ã (access + refresh)
   - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —á–µ—Ä–µ–∑ bcrypt
   - –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä API endpoints –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - Dependencies –¥–ª—è –∑–∞—â–∏—Ç—ã endpoints

4. **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (i18n)** ‚úÖ
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
   - API endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏
   - –ü–æ–ª–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤

5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** ‚úÖ
   - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–æ–∏—Å–∫, –ø–∞–≥–∏–Ω–∞—Ü–∏—è
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

6. **–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é** ‚úÖ
   - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
   - –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
   - –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä API endpoints

### API Endpoints (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ)

- `/api/auth/*` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (login, logout, refresh, me)
- `/api/i18n/*` - –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (languages, translations, translate)
- `/api/users/*` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (CRUD, settings, status)
- `/api/registration-requests/*` - –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é (list, approve, reject)
- `/api/vpn-sessions/*` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VPN —Å–µ—Å—Å–∏—è–º–∏ (CRUD, active, disconnect, extend)
- `/api/settings/*` - –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (CRUD, categories, dict format)
- `/api/mikrotik/*` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MikroTik (configs, users, firewall rules)
- `/api/audit-logs/*` - –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞ (–ø—Ä–æ—Å–º–æ—Ç—Ä, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
- `/api/stats/*` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã (overview, users, sessions, periods)
- `/api/setup-wizard/*` - –ú–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (8 —à–∞–≥–æ–≤ —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º)
- `/api/database/*` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (backup, restore, verify, optimize)

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: FastAPI, Python 3.11+
- **Database**: SQLite 3, SQLAlchemy 2.0
- **Auth**: JWT (python-jose), bcrypt (passlib)
- **i18n**: –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å JSON —Ñ–∞–π–ª–∞–º–∏
- **Validation**: Pydantic 2.0

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–í–∞–∂–Ω–æ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏):
1. ‚úÖ ~~API endpoints –¥–ª—è VPN —Å–µ—Å—Å–∏–π~~ - **–í–´–ü–û–õ–ù–ï–ù–û**
2. ‚úÖ ~~API endpoints –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫~~ - **–í–´–ü–û–õ–ù–ï–ù–û**
3. ‚úÖ ~~–°–µ—Ä–≤–∏—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å MikroTik~~ - **–í–´–ü–û–õ–ù–ï–ù–û**
4. ‚úÖ ~~API endpoints –¥–ª—è MikroTik~~ - **–í–´–ü–û–õ–ù–ï–ù–û**

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å):
5. ‚è≥ API endpoints –¥–ª—è –∞—É–¥–∏—Ç–∞ (`/api/audit-logs/*`)
6. ‚è≥ API endpoints –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (`/api/stats/*`)
7. ‚è≥ API endpoints –¥–ª—è –º–∞—Å—Ç–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`/api/setup-wizard/*`)
8. ‚è≥ API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î (`/api/database/*`)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏):
9. ‚è≥ Telegram –±–æ—Ç (–±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)
10. ‚è≥ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ Telegram –±–æ—Ç
11. ‚è≥ –õ–æ–≥–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPN —á–µ—Ä–µ–∑ –±–æ—Ç
12. ‚è≥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ VPN –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
13. ‚è≥ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –≤ VPN
14. ‚è≥ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (APScheduler)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4 (–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ):
15. ‚è≥ Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
16. ‚è≥ –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
17. ‚è≥ Systemd service —Ñ–∞–π–ª

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
mikrotik-2fa-vpn/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ api/              ‚úÖ (auth, i18n, users, registration_requests)
‚îÇ   ‚îú‚îÄ‚îÄ models/           ‚úÖ (–≤—Å–µ 8 –º–æ–¥–µ–ª–µ–π)
‚îÇ   ‚îú‚îÄ‚îÄ services/         ‚úÖ (auth, user, registration)
‚îÇ   ‚îú‚îÄ‚îÄ database/         ‚úÖ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î)
‚îÇ   ‚îú‚îÄ‚îÄ utils/            ‚úÖ (i18n)
‚îÇ   ‚îî‚îÄ‚îÄ main.py           ‚úÖ
‚îú‚îÄ‚îÄ config/               ‚úÖ (settings.py)
‚îú‚îÄ‚îÄ locales/              ‚úÖ (ru, en –ø–µ—Ä–µ–≤–æ–¥—ã)
‚îú‚îÄ‚îÄ docs/                 ‚úÖ (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
‚îî‚îÄ‚îÄ requirements.txt      ‚úÖ
```

## üéØ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ API
- ‚úÖ –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- ‚úÖ –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (3-4%):**
- ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ —Å Telegram –±–æ—Ç–æ–º (—Å–µ–π—á–∞—Å –µ—Å—Ç—å –∑–∞–≥–ª—É—à–∫–∏)
- ‚è≥ –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚è≥ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV/Excel (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ì–æ—Ç–æ–≤–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ backend (–ë–î, –º–æ–¥–µ–ª–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, i18n)
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- ‚úÖ VPN —Å–µ—Å—Å–∏–∏ (–ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª)
- ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MikroTik (SSH –∏ REST API)
- ‚úÖ –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ú–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å 8 —à–∞–≥–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (backup, restore, verify, optimize)
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ systemd service
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (APScheduler) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ VPN —Å–µ—Å—Å–∏—è—Ö
- ‚úÖ –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–∑ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- ‚úÖ Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React + Vite) - –≤—Å–µ 9 —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º UX (–º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞, –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---
*–û–±–Ω–æ–≤–ª–µ–Ω–æ: –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ backend*

